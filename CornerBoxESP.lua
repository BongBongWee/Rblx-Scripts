local P,R,L,S,C=game:GetService("Players"),game:GetService("RunService"),game:GetService("LogService"),Drawing,workspace.CurrentCamera;local LP=P.LocalPlayer;local B,UC,DC={},nil,nil;local function CB()local l={}for i=1,8 do local ln=S.new("Line")ln.Thickness=2;ln.Transparency=1;ln.Visible=false;table.insert(l,ln)end;return l end;local function AB(p)if B[p]then return end B[p]=CB()end;local function RB(p)if B[p]then for _,ln in ipairs(B[p])do ln:Remove()end B[p]=nil end end;for _,p in ipairs(P:GetPlayers())do if p~=LP then AB(p)end end;P.PlayerAdded:Connect(function(p)if p~=LP then AB(p)end end);P.PlayerRemoving:Connect(RB);UC=R.RenderStepped:Connect(function()for p,lines in pairs(B)do local ch=p.Character;local hrp=ch and ch:FindFirstChild("HumanoidRootPart");local hd=ch and ch:FindFirstChild("Head");if p.Team~=LP.Team and hrp and hd then local pos,onScr=C:WorldToViewportPoint(hrp.Position)if onScr then local hp=C:WorldToViewportPoint(hd.Position+Vector3.new(0,0.5,0))local lp=C:WorldToViewportPoint(hrp.Position-Vector3.new(0,3,0))local h=math.abs(hp.Y-lp.Y)local w=h/2;local x=pos.X-w/2;local y=pos.Y-h/2;local cl=h*0.2;local col=p.TeamColor.Color;lines[1].From=Vector2.new(x,y)lines[1].To=Vector2.new(x+cl,y)lines[2].From=Vector2.new(x,y)lines[2].To=Vector2.new(x,y+cl)lines[3].From=Vector2.new(x+w-cl,y)lines[3].To=Vector2.new(x+w,y)lines[4].From=Vector2.new(x+w,y)lines[4].To=Vector2.new(x+w,y+cl)lines[5].From=Vector2.new(x,y+h-cl)lines[5].To=Vector2.new(x,y+h)lines[6].From=Vector2.new(x,y+h)lines[6].To=Vector2.new(x+cl,y+h)lines[7].From=Vector2.new(x+w-cl,y+h)lines[7].To=Vector2.new(x+w,y+h)lines[8].From=Vector2.new(x+w,y+h-cl)lines[8].To=Vector2.new(x+w,y+h)for _,l in ipairs(lines)do l.Color=col l.Visible=true end else for _,l in ipairs(lines)do l.Visible=false end end else for _,l in ipairs(lines)do l.Visible=false end end end end);DC=L.MessageOut:Connect(function(m)if m=="disablecornerrounddedboxestest"then if UC then UC:Disconnect()end if DC then DC:Disconnect()end for _,lines in pairs(B)do for _,l in ipairs(lines)do l:Remove()end end B={}print("[CornerBoxESP] Disabled.")end end)
